<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />

  <!-- Mobile / PWA basics -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0f1220" />

  <!-- iOS: install to Home Screen + status bar -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <link rel="apple-touch-icon" href="apple-touch-icon.png" />

  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json" />

  <title>Calorie Quest</title>

  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="bg"></div>

  <header class="container header">
    <div class="brand">
      <div class="logo">üî•</div>
      <div>
        <div class="title">Calorie Quest</div>
        <div class="subtitle">Track calories ‚Ä¢ macros ‚Ä¢ goals ‚Ä¢ streak energy</div>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- Input Card -->
    <section class="card">
      <div class="subTitle">Log food</div>

      <div class="grid2">
        <div class="field">
          <label>Food</label>
          <input id="foodQuery" placeholder="e.g., banana, greek yogurt, chicken breast" />
        </div>

        <div class="field">
          <label>Serving (g)</label>
          <input id="grams" type="number" inputmode="numeric" min="0" value="100" />
        </div>

        <div class="field">
          <label>Meal</label>
          <select id="meal">
            <option>Breakfast</option>
            <option>Lunch</option>
            <option>Dinner</option>
            <option>Snack</option>
          </select>
        </div>

        <div class="field">
          <label>Search mode</label>
          <select id="searchMode">
            <option value="offline">Offline (fast)</option>
            <option value="openfoodfacts">Open Food Facts (free)</option>
          </select>
        </div>
      </div>

      <div class="row" style="margin-top:10px;">
        <button id="btnSearch" class="btn primary grow">Search ‚úîÔ∏è</button>
      </div>

      <div class="row" style="margin-top:8px;">
        <label class="check">
          <input id="manualMode" type="checkbox" />
          <span>Manual entry (override search)</span>
        </label>
      </div>

      <!-- Manual entry panel -->
      <div id="manualPanel" class="hidden" style="margin-top:10px;">
        <div class="subTitle">Manual Nutrition (for this serving)</div>

        <div class="grid2">
          <div class="field">
            <label>Calories</label>
            <input id="m_cal" type="number" inputmode="numeric" min="0" value="0" />
          </div>
          <div class="field">
            <label>Protein (g)</label>
            <input id="m_p" type="number" inputmode="decimal" min="0" value="0" />
          </div>
          <div class="field">
            <label>Carbs (g)</label>
            <input id="m_c" type="number" inputmode="decimal" min="0" value="0" />
          </div>
          <div class="field">
            <label>Fat (g)</label>
            <input id="m_f" type="number" inputmode="decimal" min="0" value="0" />
          </div>
        </div>
      </div>

      <!-- Preview -->
      <div id="preview" class="card subtle hidden" style="margin-top:12px;"></div>

      <div class="row" style="margin-top:10px;">
        <button id="btnLog" class="btn primary grow">Log it ‚úîÔ∏è</button>
      </div>

      <div class="row" style="margin-top:10px;">
        <button id="btnHelp" class="btn ghost grow">Help ü§î</button>
      </div>
    </section>

    <!-- Today's progress -->
    <section class="card">
      <div class="subTitle">Today</div>
      <div id="kpis" class="kpis"></div>
      <div id="bars" style="margin-top:10px;"></div>
    </section>

    <!-- Today's log -->
    <section class="card">
      <div class="subTitle">Today's Log</div>
      <div id="todayLog" class="hint">No entries yet.</div>
      <div class="row" style="margin-top:12px;">
        <button id="btnResetDay" class="btn danger">Reset day</button>
      </div>
    </section>

    <!-- Goals -->
    <section class="card">
      <div class="subTitle">Daily Goals</div>
      <div class="hint">Saved per-day (offline). Edit any time.</div>

      <div class="grid2" style="margin-top:10px;">
        <div class="field">
          <label>Calories</label>
          <input id="g_cal" type="number" inputmode="numeric" min="0" value="2200" />
        </div>
        <div class="field">
          <label>Protein (g)</label>
          <input id="g_p" type="number" inputmode="decimal" min="0" value="150" />
        </div>
        <div class="field">
          <label>Carbs (g)</label>
          <input id="g_c" type="number" inputmode="decimal" min="0" value="250" />
        </div>
        <div class="field">
          <label>Fat (g)</label>
          <input id="g_f" type="number" inputmode="decimal" min="0" value="70" />
        </div>
      </div>

      <div class="row" style="margin-top:12px;">
        <button id="btnSaveGoals" class="btn primary grow">Save goals ‚úîÔ∏è</button>
      </div>
    </section>

    <!-- Analytics -->
    <section class="card">
      <div class="subTitle">Analytics</div>

      <div class="tabs">
        <button id="tab7" class="tab active">7 days</button>
        <button id="tab30" class="tab">30 days</button>
        <button id="tabCal" class="tab">Calendar</button>
      </div>

      <div id="monthPicker" class="field hidden" style="margin-top:10px;">
        <label>Month</label>
        <select id="selMonth"></select>
      </div>

      <div id="analyticsKpis" class="kpis" style="margin-top:10px;"></div>

      <div class="chartWrap" style="margin-top:10px;">
        <div class="hint">Calories</div>
        <canvas id="chartCal" class="chart"></canvas>
      </div>

      <div class="chartWrap" style="margin-top:10px;">
        <div class="hint">Protein</div>
        <canvas id="chartP" class="chart"></canvas>
      </div>
    </section>

    <footer class="footer hint">
      Tip: On iPhone, open in Safari ‚Üí Share ‚Üí Add to Home Screen.
    </footer>
  </main>

  <script src="app.js"></script>
</body>
</html>
